<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1024">
    <title>Flaxbourne Heritage Centre</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/bell-mt" rel="stylesheet">
    <style>
        /* Custom styles for the page, overrides Tailwind if needed */
        body, h1, h2, h3, h4, h5, h6, p, a, button, input, textarea, label, li, span, div {
            font-family: 'Bell MT', 'Inter', serif !important;
        }
        /* Basic styling for smooth scrolling when navigating to anchor links */
        html {
            scroll-behavior: smooth;
        }
        /* Hero section background image controls */
        :root {
            /* Hero image customization: use cover so the image fills the hero area */
            --hero-bg-image: url('mainimage.jpeg'); /* Default image */
            --hero-bg-size: cover; /* Fill area without letterboxing (may crop) */
            --hero-bg-position: center; /* Default */
            --hero-bg-opacity: 1.0; /* 0.0 (transparent) to 1.0 (opaque) */
            --hero-bg-color: transparent; /* No visible fallback color needed with cover */
            /* Header offset used to keep page content visible when header is fixed */
            --header-offset: 5rem; /* default header height to offset layout (adjust if needed) */
        }
        .hero-section {
            position: relative;
            overflow: hidden;
            /* Remove top rounding so image extends under header; keep bottom corners rounded */
            border-radius: 0 0 0.5rem 0.5rem;
            margin: 0; /* remove gap so hero reaches the very top of the page */
            box-shadow: 0 10px 32px rgba(0,0,0,0.12);
            background: none;
            min-height: 30rem; /* Adjusted for mobile */
        }
        @media (min-width: 768px) {
            .hero-section {
                min-height: 56rem; /* Even taller on larger screens */
            }
            /* Slightly larger header on wider screens */
            :root { --header-offset: 6rem; }
        }
        .hero-bg {
            position: absolute;
            inset: 0;
            z-index: 0;
            background-image: var(--hero-bg-image);
            background-size: var(--hero-bg-size);
            background-position: var(--hero-bg-position);
            background-repeat: no-repeat; /* Prevent tiling */
            background-attachment: scroll; /* Changed from fixed/center to scroll for mobile */
            background-color: var(--hero-bg-color); /* now transparent */
            opacity: var(--hero-bg-opacity);
            pointer-events: none;
            transition: opacity 1s, background-image 0s, background-size 0.3s, background-position 0.3s;
        }
        /* Header overlays the hero without pushing content down */
        header { position: fixed; top: 0; left: 0; right: 0; z-index: 60; }
        /* Do not add top padding: let the hero extend under the header.
           Prevent anchor jumps from hiding content behind the fixed header by applying
           scroll-margin-top to non-hero sections. */
        main, section:not(.hero-section) { scroll-margin-top: var(--header-offset); }
        .hero-content {
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 2.5rem 1rem; /* Adjusted padding for mobile */
        }
        .hero-content h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            color: #4F46E5;
        }
        .hero-nav-box {
            background: rgba(255,255,255,0.85);
            color: #4F46E5;
            font-weight: 700;
            font-size: 1.125rem; /* Adjusted for mobile */
            border-radius: 1rem;
            box-shadow: 0 2px 16px rgba(0,0,0,0.10);
            padding: 0.75rem 2rem; /* Adjusted padding for mobile */
            text-align: center;
            transition: background 0.2s, color 0.2s, transform 0.2s;
            text-decoration: none;
            border: 2px solid #e0e7ff;
        }
        .hero-nav-box:hover {
            background: #6366f1;
            color: #fff;
            transform: translateY(-2px) scale(1.05);
            border-color: #6366f1;
        }
        /* Google Review party pop hover effect */
        .google-review-party:hover {
            animation: pop-party 0.5s cubic-bezier(.36,1.56,.64,1) both;
            box-shadow: 0 0 0 4px #fbbf24, 0 0 0 8px #34a853, 0 0 0 12px #ea4335, 0 0 0 16px #4285f4;
            background: linear-gradient(90deg, #4285f4 0%, #ea4335 25%, #fbbc05 50%, #34a853 75%, #4285f4 100%);
            color: #fff !important;
        }
        /* Facebook party pop hover effect */
        .fb-party:hover {
            animation: pop-party 0.5s cubic-bezier(.36,1.56,.64,1) both;
            box-shadow: 0 0 0 4px #1877f3, 0 0 0 8px #4267B2, 0 0 0 12px #8b9dc3, 0 0 0 16px #3b5998;
            background: linear-gradient(90deg, #1877f3 0%, #4267B2 50%, #8b9dc3 100%);
            color: #fff !important;
        }
        /* Giv2 party pop hover effect */
        .giv2-party:hover {
            animation: pop-party 0.5s cubic-bezier(.36,1.56,.64,1) both;
            box-shadow: 0 0 0 4px #6366f1, 0 0 0 8px #fbbf24, 0 0 0 12px #34a853, 0 0 0 16px #ea4335;
            background: linear-gradient(90deg, #6366f1 0%, #fbbf24 33%, #34a853 66%, #ea4335 100%);
            color: #fff !important;
        }
        @keyframes pop-party {
            0% { transform: scale(1) rotate(0deg); }
            20% { transform: scale(1.15) rotate(-5deg); }
            40% { transform: scale(1.25) rotate(5deg); }
            60% { transform: scale(1.18) rotate(-3deg); }
            80% { transform: scale(1.12) rotate(2deg); }
            100% { transform: scale(1) rotate(0deg); }
        }
    </style>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-P3KT3W88YB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-P3KT3W88YB');
    </script>
</head>
<body class="bg-gray-100 text-gray-900">
    <!-- Skip link for keyboard users -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:bg-white focus:text-indigo-800 focus:px-3 focus:py-2 focus:rounded-md">Skip to content</a>

    <!-- Mobile/desktop header with hamburger (transparent glass-style banner) -->
    <header class="bg-white/10 backdrop-blur-sm py-4 px-6 md:px-12 sticky top-0 z-50">
        <div class="container mx-auto flex items-center justify-between">
             <a href="#" class="flex items-center space-x-3" aria-label="Flaxbourne Heritage Centre home">
                 <img src="logo.png" alt="Flaxbourne Heritage Centre Logo" class="w-20 h-auto md:w-[11rem]" loading="lazy" decoding="async" />
                 <span class="text-2xl font-bold text-indigo-700">Flaxbourne Heritage</span>
             </a>
             <nav class="hidden md:flex space-x-6" role="navigation" aria-label="Main navigation">
                 <a href="#events" class="hero-nav-box">Visit Us</a>
                 <a href="#about" class="hero-nav-box">About Us</a>
                 <a href="#contact" class="hero-nav-box">Contact</a>
                 <a href="https://giv2.net/donor/result/GqSxNRvL" class="hero-nav-box">Support</a>
             </nav>
            <!-- Social links in header (desktop) -->
            <div class="hidden md:flex items-center space-x-3 ml-4">
                <a href="https://www.facebook.com/groups/2180521355391960" target="_blank" rel="noopener noreferrer" class="fb-party w-10 h-10 flex items-center justify-center rounded-full bg-blue-600 text-white shadow-md" aria-label="Visit our Facebook page">
                    <img src="fb.webp" alt="Facebook" class="w-5 h-5 object-contain" />
                </a>
                <a href="https://g.page/r/Cf3DKA1gCSPQEAE/review" target="_blank" rel="noopener noreferrer" class="google-review-party flex items-center justify-center bg-white border border-gray-300 px-2 py-1 rounded-full shadow-md" aria-label="Leave a Google review">
                    <span class="flex items-center text-sm font-bold" style="font-family: 'Product Sans', Arial, sans-serif; letter-spacing: 0.5px;">
                        <span style="color:#4285F4; font-size:1.1em;">G</span>
                        <span style="color:#EA4335; font-size:1.1em;">o</span>
                        <span style="color:#FBBC05; font-size:1.1em;">o</span>
                        <span style="color:#4285F4; font-size:1.1em;">g</span>
                        <span style="color:#34A853; font-size:1.1em;">l</span>
                        <span style="color:#EA4335; font-size:1.1em;">e</span>
                    </span>
                </a>
            </div>
             <button id="mobile-menu-toggle" class="md:hidden p-2 rounded-md bg-indigo-600 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500" aria-controls="mobile-menu" aria-expanded="false" aria-label="Toggle menu">
                 <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
             </button>
         </div>
         <div id="mobile-menu" class="hidden bg-white/80 backdrop-blur-sm border-t md:hidden">
             <div class="flex flex-col px-4 py-3 space-y-2">
                 <a href="#events" class="py-2 px-3 rounded-md text-indigo-700 font-semibold">Visit Us</a>
                 <a href="#about" class="py-2 px-3 rounded-md text-indigo-700 font-semibold">About Us</a>
                 <a href="#contact" class="py-2 px-3 rounded-md text-indigo-700 font-semibold">Contact</a>
                 <a href="https://giv2.net/donor/result/GqSxNRvL" class="py-2 px-3 rounded-md text-indigo-700 font-semibold">Support</a>
             </div>
            <!-- Social links for mobile menu -->
            <div class="flex items-center justify-center space-x-4 px-4 pb-4">
                <a href="https://www.facebook.com/groups/2180521355391960" target="_blank" rel="noopener noreferrer" class="fb-party w-10 h-10 flex items-center justify-center rounded-full bg-blue-600 text-white shadow-md" aria-label="Visit our Facebook page">
                    <img src="fb.webp" alt="Facebook" class="w-5 h-5 object-contain" />
                </a>
                <a href="https://g.page/r/Cf3DKA1gCSPQEAE/review" target="_blank" rel="noopener noreferrer" class="google-review-party flex items-center justify-center bg-white border border-gray-300 px-3 py-1 rounded-full shadow-md" aria-label="Leave a Google review">
                    <span class="flex items-center text-sm font-bold" style="font-family: 'Product Sans', Arial, sans-serif; letter-spacing: 0.5px;">
                        <span style="color:#4285F4; font-size:1em;">G</span>
                        <span style="color:#EA4335; font-size:1em;">o</span>
                        <span style="color:#FBBC05; font-size:1em;">o</span>
                        <span style="color:#4285F4; font-size:1em;">g</span>
                        <span style="color:#34A853; font-size:1em;">l</span>
                        <span style="color:#EA4335; font-size:1em;">e</span>
                    </span>
                </a>
            </div>
         </div>
    </header>

    <main id="main-content">
    <section id="home" class="hero-section">
        <div class="hero-bg" id="hero-bg-1" style="opacity:1;"></div>
        <div class="hero-bg" id="hero-bg-2" style="opacity:0;"></div>
        <div class="container mx-auto hero-content md:ml-[75px] md:mb-[50px] ml-0 mb-0">
            <!-- Hero overlay navigation removed. Use header navigation instead. -->
        </div>
    </section>

    <section id="events" class="py-8 md:py-24 bg-gray-50 m-4 rounded-lg shadow-xl">
        <div class="container mx-auto px-4 md:px-6">
            <div class="flex flex-col md:flex-row md:space-x-12 items-stretch mb-8 md:mb-12">
                <div class="flex-1 flex flex-col items-center justify-center mb-6 md:mb-0 md:transform-none"> <h2 class="text-3xl md:text-5xl font-bold text-center text-indigo-800">Visit Us</h2>
                </div>
                <div class="flex-1 flex flex-col items-center justify-center mb-6 md:mb-0 md:transform-none"> <h2 class="text-3xl md:text-5xl font-bold text-center text-indigo-800">Opening Hours</h2>
                </div>
            </div>
            <div class="flex flex-col md:flex-row md:space-x-12 items-stretch">
                <div class="flex-1 flex flex-col items-center justify-center mb-6 md:mb-0">
                    <div class="flex flex-col items-center mt-0">
                        <div class="mb-4 text-lg font-semibold text-indigo-900 text-center">Flaxbourne Heritage Centre, Ward Street, Ward</div>
                        <a href="https://www.google.com/maps/place/Flaxbourne+Heritage+Centre+(Interactive+Museum)/@-41.827684,174.137011,17z" target="_blank" rel="noopener noreferrer" class="block w-full max-w-xs md:max-w-lg lg:max-w-xl xl:max-w-2xl rounded-xl shadow-lg transition-transform duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <iframe
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1763.300118096506!2d174.13701087874054!3d-41.82768401425176!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6d39a9005712e43d%3A0xd02309600d28c3fd!2sFlaxbourne%20Heritage%20Centre%20(Interactive%20Museum)!5e1!3m2!1sen!2snz!4v1751668648954!5m2!1sen!2snz"
                                class="w-full h-64 md:h-[600px] rounded-xl"
                                style="border:0; pointer-events: none;"
                                allowfullscreen=""
                                loading="lazy"
                                referrerpolicy="no-referrer-when-downgrade"
                                title="Flaxbourne Heritage Centre Location">
                            </iframe>
                        </a>
                    </div>
                </div>
                <div class="flex-1 flex flex-col items-center justify-start mb-6 md:mb-0">
                    <div class="flex flex-col items-center mt-0 w-full">
                        <div class="mt-2 text-lg md:text-xl font-semibold text-indigo-900 text-center w-full flex justify-center">
                            <div class="grid grid-cols-2 gap-x-0 gap-y-1 w-auto mx-auto text-base md:text-lg"> <div class="text-left pr-4">Monday:</div><div class="text-left pl-0">9:00am to 3:00pm</div>
                                <div class="text-left pr-4">Tuesday:</div><div class="text-left pl-0">9:00am to 3:00pm</div>
                                <div class="text-left pr-4">Wednesday:</div><div class="text-left pl-0">9:00am to 3:00pm</div>
                                <div class="text-left pr-4">Thursday:</div><div class="text-left pl-0">9:00am to 3:00pm</div>
                                <div class="text-left pr-4">Friday:</div><div class="text-left pl-0">9:00am to 3:00pm</div>
                                <div class="text-left pr-4 text-red-800 font-bold">Saturday:</div><div class="text-left pl-0 text-red-800 font-bold">10:00am to 4:00pm</div>
                                <div class="text-left pr-4 text-red-800 font-bold">Sunday:</div><div class="text-left pl-0 text-red-800 font-bold">10:00am to 4:00pm</div>
                            </div>
                        </div>
                        <a href="https://www.thewhaletrail.nz/" target="_blank" rel="noopener noreferrer" class="block mt-8 w-full max-w-xs md:max-w-sm lg:max-w-md xl:max-w-lg mx-auto group flex flex-col items-center justify-center">
                            <div class="relative flex flex-col items-center justify-center">
                                <img src="whaletrail.jpeg" alt="Whale Trail Cycleway" class="rounded-xl shadow-lg object-cover w-full h-auto cursor-pointer transition-transform duration-200 group-hover:scale-105" style="aspect-ratio: 4/3;" loading="lazy" decoding="async" />
                                <div class="absolute bottom-0 left-0 right-0 bg-black/90 text-white text-center text-sm md:text-lg font-semibold py-2 rounded-b-xl opacity-90"> We are on the Whale Trail Pathway
                                </div>
                                <div class="absolute top-2 right-2 bg-black/90 text-white px-3 py-1 rounded-full text-xs font-bold shadow-md border border-gray-700">
                                    Info Link
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="about" class="py-8 md:py-56 bg-white m-2 md:m-4 rounded-lg shadow-xl relative overflow-hidden">
        <img src="mttapi.jpg" alt="Background" class="absolute inset-0 w-full h-full object-cover opacity-80 z-0" style="pointer-events: none;" loading="lazy" decoding="async" />
        <span class="absolute bottom-2 right-2 md:right-4 z-10 text-xs md:text-base bg-white/80 text-gray-800 px-2 md:px-3 py-1 rounded shadow-md" style="pointer-events: none;">Mt Tapuae-o-uenuku and Flaxbourne by John Gully circa 1860s</span>
        <div class="container mx-auto px-2 md:px-6 pt-0 pb-0 relative z-10 flex flex-col justify-start h-full">
            <div class="flex flex-col md:flex-row items-start md:space-x-12 mt-0" style="margin-top:-10rem;">
                <div class="w-full md:w-1/2 text-sm md:text-lg leading-snug md:leading-relaxed mx-auto font-bold text-justify mt-0 bg-white/80 md:bg-transparent rounded-lg p-2 md:p-0" style="margin-top:0;"> <h2 class="text-2xl md:text-5xl font-bold text-center text-indigo-800 mb-2 md:mb-4 mt-0">Who We Are</h2>
                    <p class="mb-2 md:mb-4 mt-0 space-y-1 md:space-y-2 text-justify">
                        The Flaxbourne Heritage Trust was formed shortly after the devastating 2016 Kaikoura earthquake that destroyed our old Ward Museum.<br>
                        Years of hard work planning and resolve have come together in a new, exciting and modern way to showcase our rich and wonderful history – The Flaxbourne Heritage Centre<br>
                        Kevin Loe (Chairperson), Sally Peter (Patron), Ally Avery (Funding) Derrick Millton (East Coast representative), Jodie Palatchie (Rangitane representative) and John Hickman (Treasurer)<br>
                        <span class="font-semibold text-indigo-700" style="display:inline-block; margin-top:0;">The Flaxbourne Heritage Trust 2025</span>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="py-8 md:py-16 text-indigo-900 m-4 rounded-lg shadow-xl relative overflow-hidden min-h-[28rem] md:min-h-[39rem]">
        <div class="absolute inset-0 w-full h-full bg-white/10 z-0" style="pointer-events: none;"></div>
        <div class="container mx-auto px-6 text-center relative z-10">
            <div class="flex flex-col md:flex-row items-stretch justify-center md:space-x-24 w-full mb-12">
                <div class="flex-1 flex flex-col items-center justify-start mb-6 md:mb-0 md:transform-none"> <h2 class="text-3xl md:text-5xl font-bold text-center text-indigo-800 mb-4 mt-0">Get in Touch</h2>
                    <p class="text-lg max-w-2xl font-bold text-indigo-900 text-center mb-8"> Have questions or want to get involved? We'd love to hear from you!
                    </p>
                    <div class="bg-white/80 p-4 rounded-lg shadow-md w-full md:w-auto hover:bg-white transition duration-300 ease-in-out flex flex-col items-center mt-4"> <h3 class="text-xl font-semibold mb-3 text-indigo-800">Email Us</h3> <p class="text-base font-bold text-indigo-900 mb-3"> <a href="mailto:admin@fhc.org.nz" class="text-indigo-700 hover:underline">admin@fhc.org.nz</a>
                        </p>
                        <button type="button" onclick="window.location.href='mailto:admin@fhc.org.nz'" class="mt-2 px-5 py-2 bg-indigo-700 text-white font-bold rounded-lg shadow hover:bg-indigo-800 transition duration-200 text-base">Send Message</button> </div>
                </div>
                <div class="flex-1 flex flex-col items-center justify-start mb-6 md:mb-0">
                    <h2 class="text-3xl md:text-5xl font-bold text-center text-indigo-800 mb-4 mt-0">Or want to Support?</h2>
                    <a href="https://giv2.net/2/GqSxNRvL" target="_blank" rel="noopener noreferrer" class="giv2-party">
                        <img src="giv2.png" alt="Support QR Code" class="mt-4 w-40 h-40 md:w-96 md:h-96 object-contain rounded-xl" />
                        <div class="text-center text-indigo-800 font-semibold mt-2 text-base md:text-lg">Click or scan this QR code to support us</div>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-gray-800 text-white py-8 px-6 md:px-12 text-center rounded-t-lg">
        <div class="container mx-auto">
            <p class="text-sm mb-4">© Flaxbourne Proud.</p>
            <div class="flex justify-center space-x-6 text-xl">
                <a href="https://www.facebook.com/groups/2180521355391960" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300 ease-in-out">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987H9.692v-3.622h3.128V8.413c0-2.508 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.797.143v3.24l-1.918.001c-1.504 0-1.797.715-1.797 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116C23.406 24 24 23.408 24 22.674V1.326C24 .592 23.406 0 22.675 0" clip-rule="evenodd"></path></svg>
                </a>
                <a href="https://github.com/JohnnyFire1906/Flaxbourne-Heritage" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300 ease-in-out">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2C6.477 2 2 6.477 2 12c0 4.238 2.76 7.82 6.574 9.176.48.09.654-.208.654-.46v-1.636c-2.67.581-3.23-1.285-3.23-1.285-.436-1.107-1.066-1.399-1.066-1.399-.87-.597.067-.585.067-.585.962.067 1.472.99 1.472.99.852 1.455 2.234 1.036 2.77.794.086-.617.333-1.036.606-1.275-2.127-.24-4.366-1.064-4.366-4.734 0-1.042.368-1.898 1.02-2.564-.102-.24-.442-1.21.096-2.52.827-.267 2.723 1.01 2.723 1.01s1.896-.267 2.723-1.01c.538 1.31.2 2.28.096 2.52.652.666 1.02 1.522 1.02 2.564 0 3.67-2.24 4.493-4.366 4.734.34.293.64.87.64 1.764v2.54c0 .252.174.55.654.46C19.24 19.82 22 16.238 22 12c0-5.523-4.477-10-10-10z"></path></svg>
                </a>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        document.getElementById('mobile-menu-toggle')?.addEventListener('click', function() {
            const menu = document.getElementById('mobile-menu');
            const expanded = this.getAttribute('aria-expanded') === 'true';
            this.setAttribute('aria-expanded', String(!expanded));
            menu.classList.toggle('hidden');
        });

        // Robust hero slideshow loader: tries common filename variants (jpg/jpeg, casing)
        document.addEventListener('DOMContentLoaded', () => {
            const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

            // Provide candidate filename lists for each slide. Adjust names to match what you uploaded if needed.
            const slideCandidates = [
                ['mainimage.jpeg','mainimage.jpg','Mainimage.jpeg','Mainimage.jpg'],
                ['Mainimage2.jpeg','Mainimage2.jpg','mainimage2.jpeg','mainimage2.jpg'],
                ['Mainimage3.jpeg','Mainimage3.jpg','mainimage3.jpeg','mainimage3.jpg']
            ];

            function tryLoad(src) {
                return new Promise((resolve, reject) => {
                    const img = new Image();
                    img.onload = () => resolve(src);
                    img.onerror = () => reject(src);
                    img.src = src;
                });
            }

            async function resolveSlide(candidates) {
                for (const c of candidates) {
                    try {
                        const found = await tryLoad(c);
                        return found;
                    } catch (e) {
                        // try next candidate
                    }
                }
                return null;
            }

            (async function initHero() {
                // Resolve actual files present on the server
                const heroImages = [];
                for (const candidates of slideCandidates) {
                    const found = await resolveSlide(candidates);
                    heroImages.push(found || candidates[0]); // fallback to first candidate if none load
                }

                // Preload resolved images
                heroImages.forEach(src => { if (src) { const img = new Image(); img.src = src; }});

                // Initialize hero layers
                let currentIndex = 0;
                let fadeIndex = 0;
                const bgEls = [ document.getElementById('hero-bg-1'), document.getElementById('hero-bg-2') ];
                // Defensive: ensure elements exist
                if (!bgEls[0] || !bgEls[1]) return;

                bgEls[0].style.backgroundImage = `url('${heroImages[0]}')`;
                bgEls[1].style.backgroundImage = `url('${heroImages[1]}')`;

                function crossfadeTo(nextIndex) {
                    if (prefersReduced) {
                        bgEls[0].style.backgroundImage = `url('${heroImages[nextIndex]}')`;
                        bgEls[1].style.backgroundImage = `url('${heroImages[nextIndex]}')`;
                        return;
                    }
                    const fadeOutEl = bgEls[fadeIndex % 2];
                    const fadeInEl = bgEls[(fadeIndex + 1) % 2];
                    fadeInEl.style.backgroundImage = `url('${heroImages[nextIndex]}')`;
                    fadeInEl.style.transition = 'opacity 1.2s ease-in-out';
                    fadeOutEl.style.transition = 'opacity 1.2s ease-in-out';
                    fadeInEl.style.opacity = 1;
                    fadeOutEl.style.opacity = 0;
                    fadeIndex = (fadeIndex + 1) % 2;
                }

                if (!prefersReduced) setInterval(() => {
                    const nextIndex = (currentIndex + 1) % heroImages.length;
                    crossfadeTo(nextIndex);
                    currentIndex = nextIndex;
                }, 10000);

                // Contact form handler (kept here so it runs after DOM ready)
                const contactForm = document.querySelector('#contact form');
                if (contactForm) {
                    contactForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        console.log('Form submitted!');
                        alert('Thank you for your message! This is a demo form and does not send actual emails.');
                        this.reset();
                    });
                }
            })();
        });
    </script>

    <style>
        /* Accessibility and performance helpers */
        @media (prefers-reduced-motion: reduce) {
            * { animation: none !important; transition: none !important; }
        }
        :focus { outline: 2px dashed #4F46E5; outline-offset: 3px; }
        .sr-only.focus\:not-sr-only:focus { position: absolute; left: 1rem; top: 1rem; transform: none; }
    </style>
</body>
</html>
